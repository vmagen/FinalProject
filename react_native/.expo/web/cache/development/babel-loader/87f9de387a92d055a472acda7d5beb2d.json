{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\vmage\\\\OneDrive\\\\Ruppin\\\\\\u05E9\\u05E0\\u05D4 \\u05D2\\\\\\u05E1\\u05DE\\u05E1\\u05D8\\u05E8 \\u05D1\\\\FinalProject\\\\react_native\\\\FunctionalComponents\\\\FCFacebookLogin1.js\";\nimport React from 'react';\nimport * as Facebook from 'expo-facebook';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\n\nfunction FCFacebookLogin1() {\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      picture = _React$useState2[0],\n      setPicture = _React$useState2[1];\n\n  function loginToFb() {\n    var _await$Facebook$logIn, type, token, expires, permissions, declinedPermissions, response, res, message;\n\n    return _regeneratorRuntime.async(function loginToFb$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(Facebook.initializeAsync(['174194160927637']));\n\n          case 3:\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(Facebook.logInWithReadPermissionsAsync({\n              permissions: ['public_Profile']\n            }));\n\n          case 5:\n            _await$Facebook$logIn = _context.sent;\n            type = _await$Facebook$logIn.type;\n            token = _await$Facebook$logIn.token;\n            expires = _await$Facebook$logIn.expires;\n            permissions = _await$Facebook$logIn.permissions;\n            declinedPermissions = _await$Facebook$logIn.declinedPermissions;\n\n            if (!(type === 'success')) {\n              _context.next = 21;\n              break;\n            }\n\n            _context.next = 14;\n            return _regeneratorRuntime.awrap(fetch('https://graph.facebook.com/me?fields=id,name,email,picture&access_token=${token}'));\n\n          case 14:\n            response = _context.sent;\n            _context.next = 17;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 17:\n            res = _context.sent;\n            Alert.alert('Logged in!!!', \"Name:\" + res.name + \"\\nEmail:\" + res.email + \"\\nPicture:\" + res.picture.data.url);\n            _context.next = 22;\n            break;\n\n          case 21:\n            type === 'cancel';\n\n          case 22:\n            _context.next = 28;\n            break;\n\n          case 24:\n            _context.prev = 24;\n            _context.t0 = _context[\"catch\"](0);\n            message = _context.t0.message;\n            Alert.alert(\"Facebook login Failed \" + message);\n\n          case 28:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 24]], Promise);\n  }\n\n  return React.createElement(Button, {\n    title: \"Countinue with Facebook\",\n    onPress: loginToFb,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  });\n}\n\nexport default FCFacebookLogin1;","map":{"version":3,"sources":["C:/Users/vmage/OneDrive/Ruppin/שנה ג/סמסטר ב/FinalProject/react_native/FunctionalComponents/FCFacebookLogin1.js"],"names":["React","Facebook","FCFacebookLogin1","useState","picture","setPicture","loginToFb","initializeAsync","logInWithReadPermissionsAsync","permissions","type","token","expires","declinedPermissions","fetch","response","json","res","Alert","alert","name","email","data","url","message"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,QAAZ,MAA0B,eAA1B;;;;;AAIA,SAASC,gBAAT,GAA4B;AAAA,wBACMF,KAAK,CAACG,QAAN,CAAe,EAAf,CADN;AAAA;AAAA,MACjBC,OADiB;AAAA,MACRC,UADQ;;AAGxB,WAAeC,SAAf;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEcL,QAAQ,CAACM,eAAT,CAAyB,CAAC,iBAAD,CAAzB,CAFd;;AAAA;AAAA;AAAA,6CAIkBN,QAAQ,CAACO,6BAAT,CAAuC;AACzCC,cAAAA,WAAW,EAAE,CAAC,gBAAD;AAD4B,aAAvC,CAJlB;;AAAA;AAAA;AAGgBC,YAAAA,IAHhB,yBAGgBA,IAHhB;AAGsBC,YAAAA,KAHtB,yBAGsBA,KAHtB;AAG6BC,YAAAA,OAH7B,yBAG6BA,OAH7B;AAGsCH,YAAAA,WAHtC,yBAGsCA,WAHtC;AAGmDI,YAAAA,mBAHnD,yBAGmDA,mBAHnD;;AAAA,kBAOYH,IAAI,KAAK,SAPrB;AAAA;AAAA;AAAA;;AAAA;AAAA,6CAQmCI,KAAK,CAAC,kFAAD,CARxC;;AAAA;AAQkBC,YAAAA,QARlB;AAAA;AAAA,6CAS4BA,QAAQ,CAACC,IAAT,EAT5B;;AAAA;AASgBC,YAAAA,GAThB;AAUYC,YAAAA,KAAK,CAACC,KAAN,CAAY,cAAZ,YAAoCF,GAAG,CAACG,IAAxC,gBAAuDH,GAAG,CAACI,KAA3D,kBAA6EJ,GAAG,CAACb,OAAJ,CAAYkB,IAAZ,CAAiBC,GAA9F;AAVZ;AAAA;;AAAA;AAYeb,YAAAA,IAAI,KAAK,QAAT;;AAZf;AAAA;AAAA;;AAAA;AAAA;AAAA;AAcac,YAAAA,OAdb,eAcaA,OAdb;AAeQN,YAAAA,KAAK,CAACC,KAAN,4BAAqCK,OAArC;;AAfR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAmBA,SACI,oBAAC,MAAD;AACI,IAAA,KAAK,EAAC,yBADV;AAEI,IAAA,OAAO,EAAElB,SAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ;AAMH;;AAGD,eAAeJ,gBAAf","sourcesContent":["import React from 'react';\r\nimport * as Facebook from 'expo-facebook';\r\nimport { Alert ,Button} from 'react-native';\r\nimport { PanResponder } from 'react-native';\r\n\r\nfunction FCFacebookLogin1() {\r\n    const [picture, setPicture] = React.useState([]);\r\n\r\n    async function loginToFb() {\r\n        try {\r\n            await Facebook.initializeAsync(['174194160927637']);\r\n            const { type, token, expires, permissions, declinedPermissions } =\r\n                await Facebook.logInWithReadPermissionsAsync({\r\n                    permissions: ['public_Profile']\r\n                });\r\n            if (type === 'success') {\r\n                const response = await fetch('https://graph.facebook.com/me?fields=id,name,email,picture&access_token=${token}');\r\n                let res = await response.json();\r\n                Alert.alert('Logged in!!!', `Name:${res.name}\\nEmail:${res.email}\\nPicture:${res.picture.data.url}`);\r\n            }\r\n            else { type === 'cancel' }\r\n        }\r\n        catch ({ message }) {\r\n            Alert.alert(`Facebook login Failed ${message}`);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Button\r\n            title=\"Countinue with Facebook\"\r\n            onPress={loginToFb}\r\n        />\r\n    );\r\n}\r\n\r\n\r\nexport default FCFacebookLogin1;"]},"metadata":{},"sourceType":"module"}