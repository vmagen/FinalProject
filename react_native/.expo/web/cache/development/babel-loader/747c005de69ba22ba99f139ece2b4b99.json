{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\vmage\\\\OneDrive\\\\Ruppin\\\\\\u05E9\\u05E0\\u05D4 \\u05D2\\\\\\u05E1\\u05DE\\u05E1\\u05D8\\u05E8 \\u05D1\\\\FinalProject\\\\react_native\\\\FunctionalComponents\\\\FCFacebookLogin1.js\";\nimport * as Facebook from 'expo-facebook';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport PanResponder from \"react-native-web/dist/exports/PanResponder\";\n\nfunction FCFacebookLogin1() {\n  var _useState, _useState2, picture, setPicture, _await$Facebook$logIn, type, token, expires, permissions, declinedPermissions, response, res, message;\n\n  return _regeneratorRuntime.async(function FCFacebookLogin1$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _useState = useState([]), _useState2 = _slicedToArray(_useState, 2), picture = _useState2[0], setPicture = _useState2[1];\n          _context.prev = 1;\n          _context.next = 4;\n          return _regeneratorRuntime.awrap(Facebook.initializeAsync(['174194160927637']));\n\n        case 4:\n          _context.next = 6;\n          return _regeneratorRuntime.awrap(Facebook.logInWithReadPermissionsAsync({\n            permissions: ['public_Profile']\n          }));\n\n        case 6:\n          _await$Facebook$logIn = _context.sent;\n          type = _await$Facebook$logIn.type;\n          token = _await$Facebook$logIn.token;\n          expires = _await$Facebook$logIn.expires;\n          permissions = _await$Facebook$logIn.permissions;\n          declinedPermissions = _await$Facebook$logIn.declinedPermissions;\n\n          if (!(type === 'success')) {\n            _context.next = 22;\n            break;\n          }\n\n          _context.next = 15;\n          return _regeneratorRuntime.awrap(fetch('https://graph.facebook.com/me?fields=id,name,email,picture&access_token=${token}'));\n\n        case 15:\n          response = _context.sent;\n          _context.next = 18;\n          return _regeneratorRuntime.awrap(response.json());\n\n        case 18:\n          res = _context.sent;\n          Alert.alert('Logged in!!!', \"Name:\" + res.name + \"\\nEmail:\" + res.email + \"\\nPicture:\" + res.picture.data.url);\n          _context.next = 23;\n          break;\n\n        case 22:\n          type === 'cancel';\n\n        case 23:\n          _context.next = 29;\n          break;\n\n        case 25:\n          _context.prev = 25;\n          _context.t0 = _context[\"catch\"](1);\n          message = _context.t0.message;\n          Alert.alert(\"Facebook login Failed \" + message);\n\n        case 29:\n          return _context.abrupt(\"return\", React.createElement(Button, {\n            disabled: !request,\n            title: \"Countinue with Facebook\",\n            onPress: function onPress() {\n              promptAsync();\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 25,\n              columnNumber: 9\n            }\n          }));\n\n        case 30:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, this, [[1, 25]], Promise);\n}\n\nexport default FCFacebookLogin1;","map":{"version":3,"sources":["C:/Users/vmage/OneDrive/Ruppin/שנה ג/סמסטר ב/FinalProject/react_native/FunctionalComponents/FCFacebookLogin1.js"],"names":["Facebook","FCFacebookLogin1","useState","picture","setPicture","initializeAsync","logInWithReadPermissionsAsync","permissions","type","token","expires","declinedPermissions","fetch","response","json","res","Alert","alert","name","email","data","url","message","request","promptAsync"],"mappings":";;;AAAA,OAAO,KAAKA,QAAZ,MAA0B,eAA1B;;;;AAIA,SAAeC,gBAAf;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,sBACkCC,QAAQ,CAAC,EAAD,CAD1C,6CACWC,OADX,kBACoBC,UADpB;AAAA;AAAA;AAAA,2CAGcJ,QAAQ,CAACK,eAAT,CAAyB,CAAC,iBAAD,CAAzB,CAHd;;AAAA;AAAA;AAAA,2CAKcL,QAAQ,CAACM,6BAAT,CAAuC;AACzCC,YAAAA,WAAW,EAAC,CAAC,gBAAD;AAD6B,WAAvC,CALd;;AAAA;AAAA;AAIcC,UAAAA,IAJd,yBAIcA,IAJd;AAIoBC,UAAAA,KAJpB,yBAIoBA,KAJpB;AAI0BC,UAAAA,OAJ1B,yBAI0BA,OAJ1B;AAIkCH,UAAAA,WAJlC,yBAIkCA,WAJlC;AAI8CI,UAAAA,mBAJ9C,yBAI8CA,mBAJ9C;;AAAA,gBAQWH,IAAI,KAAI,SARnB;AAAA;AAAA;AAAA;;AAAA;AAAA,2CASiCI,KAAK,CAAC,kFAAD,CATtC;;AAAA;AASkBC,UAAAA,QATlB;AAAA;AAAA,2CAU0BA,QAAQ,CAACC,IAAT,EAV1B;;AAAA;AAUgBC,UAAAA,GAVhB;AAWYC,UAAAA,KAAK,CAACC,KAAN,CAAY,cAAZ,YAAoCF,GAAG,CAACG,IAAxC,gBAAuDH,GAAG,CAACI,KAA3D,kBAA6EJ,GAAG,CAACZ,OAAJ,CAAYiB,IAAZ,CAAiBC,GAA9F;AAXZ;AAAA;;AAAA;AAaab,UAAAA,IAAI,KAAG,QAAP;;AAbb;AAAA;AAAA;;AAAA;AAAA;AAAA;AAeYc,UAAAA,OAfZ,eAeYA,OAfZ;AAgBYN,UAAAA,KAAK,CAACC,KAAN,4BAAqCK,OAArC;;AAhBZ;AAAA,2CAoBQ,oBAAC,MAAD;AACE,YAAA,QAAQ,EAAE,CAACC,OADb;AAEE,YAAA,KAAK,EAAC,yBAFR;AAGE,YAAA,OAAO,EAAE,mBAAM;AACbC,cAAAA,WAAW;AACV,aALL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YApBR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AA+BA,eAAevB,gBAAf","sourcesContent":["import * as Facebook from 'expo-facebook';\r\nimport { Alert } from 'react-native';\r\nimport { PanResponder } from 'react-native';\r\n\r\nasync function FCFacebookLogin1() {\r\n    const [picture, setPicture] = useState([]);\r\n    try{\r\n        await Facebook.initializeAsync(['174194160927637']);\r\n        const{type, token,expires,permissions,declinedPermissions}=\r\n        await Facebook.logInWithReadPermissionsAsync({\r\n            permissions:['public_Profile']\r\n        });\r\n        if(type ==='success'){\r\n            const response=await fetch('https://graph.facebook.com/me?fields=id,name,email,picture&access_token=${token}');\r\n            let res=await response.json();\r\n            Alert.alert('Logged in!!!', `Name:${res.name}\\nEmail:${res.email}\\nPicture:${res.picture.data.url}`);\r\n        }\r\n        else{type==='cancel'}\r\n    }\r\n    catch ({message}){\r\n            Alert.alert(`Facebook login Failed ${message}`);\r\n    }\r\n\r\n    return (\r\n        <Button\r\n          disabled={!request}\r\n          title=\"Countinue with Facebook\"\r\n          onPress={() => {\r\n            promptAsync();\r\n            }}\r\n        />\r\n      );\r\n}\r\n\r\n\r\nexport default FCFacebookLogin1;"]},"metadata":{},"sourceType":"module"}